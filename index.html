<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Viaggio di nozze in Giappone</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
  <style>
    /* CSS rimane invariato rispetto alla versione precedente */
    body {
      margin: 0;
      padding: 0;
      background-image: url('sfondo japanese.png'); /* Assicurati che il percorso sia corretto */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      height: 100vh;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-family: 'Playfair Display', serif;
      overflow: hidden;
    }

    .overlay {
      background-color: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 60px;
      border-radius: 25px;
      max-width: 800px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      color: white;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 7s ease 1.2s forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      color: #000;
    }

    p {
      font-size: 1.5rem;
      margin-top: 0;
      color: #000;
    }

    .iban {
      margin-top: 30px;
      font-weight: bold;
      font-size: 1.3rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #000;
      padding: 15px;
      border-radius: 12px;
      word-break: break-word;
      cursor: pointer;
      transition: background-color 0.3s;
      font-family: 'Playfair Display', serif;
    }

    .iban:hover {
      background-color: rgba(255, 255, 255, 0.25);
    }

    .copied-msg {
      display: none;
      margin-top: 10px;
      font-size: 0.5rem;
      color: #000;
      background-color: transparent;
      background: rgba(255,255,255,0.25);
      padding: 8px;
      border-radius: 8px;
    }

    @media (max-width: 600px) {
      .overlay {
        padding: 30px;
        max-width: 90%;
      }
      h1 { font-size: 2rem; }
      p { font-size: 1.2rem; }
      .iban { font-size: 1.1rem; padding: 12px; }
    }

    .music-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 99;
      background-color: transparent;
      border: 1px solid rgba(255,255,255,0.5);
      padding: 10px 15px;
      border-radius: 10px;
      font-family: 'Playfair Display', serif;
      font-size: 1rem;
      cursor: pointer;
      color: #fff;
      backdrop-filter: none;
    }

    .music-button:hover {
      background-color: rgba(255,255,255,0.1);
    }
  </style>
</head>
<body>
  <div class="overlay">
     <h1>ÊÅã„ÅÆÊóÖ "koi no tabi"<br>  Viaggio d'Amore ‚ù§Ô∏è</h1>
    <p>
      L'espressione indica un'esperienza legata all'amore e alle emozioni che ne derivano.<br>
      Pu√≤ riferirsi sia a un viaggio fisico che metaforico: √® un percorso di scoperta e crescita personale attraverso il sentimento dell'amore.<br>
      Se volete potete aiutarci a realizzare questo nostro sogno<br>
      riempiendo le valigie... di emozioni!<br>Arigat≈ç! üç£üéé
    </p>
    <div class="iban" id="iban-text" onclick="copyIBAN()">
      IBAN: IT57I0306234210000002936209<br>
      Intestatari: Sara Pioppi, Alessandro Nicolini
    </div>
    <div class="copied-msg" id="copied-msg">‚úÖ IBAN copiato!</div>
  </div>

  <audio id="bg-music" autoplay loop>
    <source src="musica.mp3" type="audio/mpeg">
    Il tuo browser non supporta l'elemento audio.
  </audio>

  <button class="music-button" onclick="toggleMusic()">üéµ Musica: On/Off</button>

  <script>
    function copyIBAN() {
      const ibanElement = document.getElementById('iban-text');
      const ibanFullText = ibanElement.innerText;
      navigator.clipboard.writeText(ibanFullText).then(() => {
        const msg = document.getElementById('copied-msg');
        msg.style.display = 'block';
        setTimeout(() => { msg.style.display = 'none'; }, 2000);
      }).catch(err => {
        console.error('Errore nel copiare l\'IBAN: ', err);
      });
    }

    const audio = document.getElementById("bg-music");
    const musicButton = document.querySelector(".music-button"); // Seleziona il bottone

    // Imposta il volume iniziale
    audio.volume = 0.2;

    // Funzione per aggiornare l'aspetto del bottone (opzionale ma utile)
    function updateButtonState() {
        if (audio.paused) {
            // Potresti cambiare il testo o l'icona se vuoi indicare che √® Muto
            // musicButton.textContent = "üéµ Musica: Off";
        } else {
            // musicButton.textContent = "üéµ Musica: On";
        }
    }

    // Tenta di avviare la riproduzione e gestisce l'errore se l'autoplay viene bloccato
    audio.play().then(() => {
      // Autoplay riuscito (o gi√† avviato dall'attributo autoplay)
      console.log("Riproduzione audio avviata.");
      updateButtonState();
    }).catch(error => {
      // Autoplay bloccato dal browser
      console.warn("Autoplay audio bloccato dal browser:", error);
      // La musica √® in pausa, aggiorna il bottone se necessario
      updateButtonState();
      // A questo punto, l'utente dovr√† cliccare il bottone per avviarla manualmente
    });

    // Aggiorna lo stato del bottone quando lo stato di play/pausa cambia
    audio.onplay = updateButtonState;
    audio.onpause = updateButtonState;


    function toggleMusic() {
      if (audio.paused) {
        audio.play().catch(e => console.error("Errore durante la riproduzione manuale:", e)); // Aggiunto catch per sicurezza
      } else {
        audio.pause();
      }
      // Non √® pi√π necessario chiamare updateButtonState() qui perch√© gli eventi onplay/onpause lo fanno
    }

    // Chiamata iniziale per impostare il bottone correttamente
    // Lo facciamo dopo il tentativo di play() per avere lo stato pi√π aggiornato
    // updateButtonState(); // Questa chiamata √® ora gestita dal .then() e .catch() di audio.play() e dagli eventi onplay/onpause

  </script>
</body>
</html>
